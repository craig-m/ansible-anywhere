#!/usr/bin/env python3

import os
import sys
import platform
import datetime
import subprocess
import json

date = str(datetime.datetime.now())
gitignore = str(os.path.isdir('/vagrant/gitignore/'))
aareadmegen = str(os.path.isfile('/home/vagrant/readme.txt'))

# to validate the json output use this command:
# /etc/ansible/facts.d/vm-type-py.fact | python3 -m json.tool

print(json.dumps({
    "time" : date,
    "aa-readme-text" : aareadmegen,
    "gitignore-dir" : gitignore
}))
